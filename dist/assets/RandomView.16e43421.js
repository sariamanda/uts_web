import{_ as h,o,c as i,a as n,t as c,e as l,F as u}from"./index.b33043f1.js";const d={data(){return{error:!1,loading:!0,verse:null,quran:null,chapter:null,translation:null,audio:null}},methods:{async getRandom(){const e=Math.floor(Math.random()*5);this.fetchQuran("verses/random?language=id&words=true&translations=id&audio=1&fields="+e).then(r=>{const s=r.verse;this.verse=s,this.audio=this.getAudioPath(s.audio.url);const a=s.verse_key;this.getQuran(a);const t=a.split(":")[0];this.getChapter(t),this.getTranslate(a)})},async getQuran(e){this.fetchQuran("quran/verses/uthmani?verse_key="+e).then(r=>{this.quran=r.verses[0]})},getAudioPath(e){return"https://verses.quran.com/"+e},getChapter(e){this.fetchQuran("chapters/"+e+"?language=id").then(r=>{this.chapter=r.chapter})},getTranslate(e){this.fetchQuran("quran/translations/33?verse_key="+e).then(r=>{this.translation=r.translations[0]})},async fetchQuran(e){this.loading=!0;const r="https://api.quran.com/api/v4/"+e;return fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}}).then(s=>{if(!s.ok){const a=new Error(s.statusText);throw a.json=s.json(),a}return s.json()}).catch(s=>{alert(s.toString())}).finally(()=>{this.loading=!1})}},mounted(){this.getRandom()}},_=n("section",{class:"hero is-small"},[n("div",{class:"text-center m-5"},[n("h1",{class:"title"},[n("strong",null,"Random Ayat")]),n("h2",{class:"subtitle"}," Random Ayat from Quran.com API ")])],-1),m={class:"content"},p={key:0,class:"text-lg-end"},g={key:1,class:"text-lg-end"},f={controls:""},v=["src"],y={key:2,class:"text-lg-end"},x=n("h4",{class:"text-lg-start mt-4"},"Terjemahan",-1),k={key:3,class:"text-lg-start"},q={key:0,class:"has-text-centered"},Q=n("i",{class:"fa-solid fa-spinner fa-pulse"},null,-1),T=[Q];function j(e,r,s,a,t,A){return o(),i(u,null,[_,n("section",m,[n("div",null,[t.chapter?(o(),i("h2",p,c(t.chapter.name_arabic)+" "+c(t.verse.verse_number),1)):l("",!0),t.audio?(o(),i("p",g,[n("audio",f,[n("source",{src:t.audio,type:"audio/mpeg"},null,8,v)])])):l("",!0),t.quran?(o(),i("h3",y,c(t.quran.text_uthmani)+" "+c(t.quran.verse_key),1)):l("",!0),x,t.translation?(o(),i("p",k,c(t.translation.text),1)):l("",!0)]),t.loading?(o(),i("div",q,T)):l("",!0)])],64)}var b=h(d,[["render",j]]);export{b as default};
